(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[574],{93003:function(A,v,e){"use strict";e.r(v);var W=e(34792),I=e(48086),j=e(54029),O=e(79166),x=e(22385),h=e(69713),S=e(94233),f=e(51890),M=e(3182),C=e(94043),E=e.n(C),T=e(67294),p=e(67265),y=e(73939),P=e(85304),U=e(30381),R=e.n(U),s=e(85893),B=function(){var g=(0,T.useRef)(),L=function(){var i=(0,M.Z)(E().mark(function r(t,d,o){var l,m,n,u,c,D,_;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=t.pageSize,m=t.current,n=t.keyword,u={data:[],success:!0,total:10},a.prev=2,a.next=5,(0,P.UM)({pageNum:m,pageSize:l,keyword:n});case 5:_=a.sent,u.total=_==null||(c=_.data)===null||c===void 0?void 0:c.total,u.data=_==null||(D=_.data)===null||D===void 0?void 0:D.list,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),u.success=!1;case 13:return a.abrupt("return",u);case 14:case"end":return a.stop()}},r,null,[[2,10]])}));return function(t,d,o){return i.apply(this,arguments)}}(),K=[{title:"keyword",hideInTable:!0,dataIndex:"keyword",valueType:"text",fieldProps:{placeholder:"ID/UserID/Content/Type"}},{title:"ID",hideInSearch:!0,dataIndex:"message_id"},{title:"Content",hideInSearch:!0,dataIndex:"message_content",ellipsis:!0,width:200,render:function(r,t,d,o){return(0,s.jsx)(h.Z,{title:t.message_type=="text"?t.message_content:(0,s.jsx)("img",{width:200,src:t.message_content}),children:t.message_type=="text"?t.message_content:(0,s.jsx)(f.C,{src:t.message_content})})}},{title:"User",hideInSearch:!0,dataIndex:"message_user",ellipsis:!0},{title:"To",hideInSearch:!0,dataIndex:"message_to"},{title:"Type",hideInSearch:!0,dataIndex:"message_type"},{title:"Status",hideInSearch:!0,dataIndex:"message_status",render:function(r,t,d,o){return(0,s.jsx)(O.Z,{color:t.message_status===0?"green":"red"})}},{title:"Create time",hideInSearch:!0,dataIndex:"user_createtime",render:function(r,t,d,o){return R()(t.message_createtime*1e3).format("YYYY/MM/DD")}},{title:"\u64CD\u4F5C",key:"option",valueType:"option",width:150,render:function(r,t,d){return[(0,s.jsx)("a",{onClick:(0,M.Z)(E().mark(function o(){var l;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,P.Z$)(t.message_id);case 2:I.default.success("\u5220\u9664\u6210\u529F"),(l=g.current)===null||l===void 0||l.reload();case 4:case"end":return n.stop()}},o)})),children:"\u5220\u9664"},d)]}}];return(0,s.jsx)(p.ZP,{children:(0,s.jsx)(y.ZP,{rowKey:"message_id",request:L,actionRef:g,columns:K})})};v.default=B}}]);
