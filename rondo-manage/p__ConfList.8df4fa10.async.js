(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[537],{5966:function(F,I,e){"use strict";var R=e(67294),g=e(86292),W=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"];function P(){return P=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},P.apply(this,arguments)}function b(t,n){if(t==null)return{};var o=M(t,n),r,d;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(t);for(d=0;d<p.length;d++)r=p[d],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(o[r]=t[r]))}return o}function M(t,n){if(t==null)return{};var o={},r=Object.keys(t),d,p;for(p=0;p<r.length;p++)d=r[p],!(n.indexOf(d)>=0)&&(o[d]=t[d]);return o}var E="text",C=function(n){var o=n.fieldProps,r=n.proFieldProps,d=b(n,W);return R.createElement(g.Z,P({mode:"edit",valueType:E,fieldProps:o,filedConfig:{valueType:E},proFieldProps:r},d))},B=function(n){var o=n.fieldProps,r=n.proFieldProps,d=b(n,U);return R.createElement(g.Z,P({mode:"edit",valueType:"password",fieldProps:o,proFieldProps:r,filedConfig:{valueType:E}},d))},f=C;f.Password=B,f.displayName="ProFormComponent",I.Z=f},5383:function(F,I,e){"use strict";e.r(I);var R=e(57663),g=e(71577),W=e(54029),U=e(79166),P=e(8870),b=e(34792),M=e(48086),E=e(3182),C=e(2824),B=e(94043),f=e.n(B),t=e(67294),n=e(67265),o=e(73939),r=e(85304),d=e(30381),p=e.n(d),$=e(37476),T=e(5966),_=e(85893),Y=function(){var j=(0,t.useRef)(),x=(0,t.useRef)(),V=(0,t.useState)(!1),A=(0,C.Z)(V,2),w=A[0],h=A[1],z=(0,t.useState)("add"),Z=(0,C.Z)(z,2),S=Z[0],k=Z[1],N=function(){var v=(0,E.Z)(f().mark(function s(a){var m,l;return f().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(console.log(a),S!="edit"){u.next=9;break}return u.next=4,(0,r.Tb)(a);case 4:h(!1),(m=j.current)===null||m===void 0||m.reload(),M.default.success("\u4FEE\u6539\u6210\u529F"),u.next=14;break;case 9:return u.next=11,(0,r.Zy)((0,P.Z)({},a));case 11:h(!1),(l=j.current)===null||l===void 0||l.reload(),M.default.success("\u65B0\u589E\u6210\u529F");case 14:case"end":return u.stop()}},s)}));return function(a){return v.apply(this,arguments)}}(),G=function(){var s;k("add"),(s=x.current)===null||s===void 0||s.resetFields(),h(!0)},J=function(){var v=(0,E.Z)(f().mark(function s(a,m,l){var i,u,D,y,K,L,O;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=a.pageSize,u=a.current,D=a.keyword,y={data:[],success:!0,total:10},c.prev=2,c.next=5,(0,r.Ro)({pageNum:u,pageSize:i,keyword:D});case 5:O=c.sent,y.total=O==null||(K=O.data)===null||K===void 0?void 0:K.total,y.data=O==null||(L=O.data)===null||L===void 0?void 0:L.list,c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),y.success=!1;case 13:return c.abrupt("return",y);case 14:case"end":return c.stop()}},s,null,[[2,10]])}));return function(a,m,l){return v.apply(this,arguments)}}(),H=[{title:"keyword",hideInTable:!0,dataIndex:"keyword",valueType:"text",fieldProps:{placeholder:"Key/Value/Desc"}},{title:"ID",hideInSearch:!0,dataIndex:"conf_id"},{title:"Key",hideInSearch:!0,dataIndex:"conf_key",ellipsis:!0},{title:"Value",hideInSearch:!0,dataIndex:"conf_value",ellipsis:!0},{title:"Description",hideInSearch:!0,dataIndex:"conf_desc"},{title:"Status",hideInSearch:!0,dataIndex:"conf_status",render:function(s,a,m,l){return(0,_.jsx)(U.Z,{color:a.conf_status===0?"green":"red"})}},{title:"Create time",hideInSearch:!0,dataIndex:"conf_createtime",render:function(s,a,m,l){return p()(a.conf_createtime*1e3).format("YYYY/MM/DD")}},{title:"Update time",hideInSearch:!0,dataIndex:"conf_updatetime",render:function(s,a,m,l){return p()(a.conf_updatetime*1e3).format("YYYY/MM/DD")}},{title:"\u64CD\u4F5C",key:"option",valueType:"option",width:150,render:function(s,a,m){return[(0,_.jsx)("a",{onClick:(0,E.Z)(f().mark(function l(){var i;return f().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,r.vJ)(a.conf_id);case 2:M.default.success("\u5220\u9664\u6210\u529F"),(i=j.current)===null||i===void 0||i.reload();case 4:case"end":return D.stop()}},l)})),children:"\u5220\u9664"},"del"),(0,_.jsx)("a",{onClick:function(){var i;k("edit"),h(!0),(i=x.current)===null||i===void 0||i.setFieldsValue((0,P.Z)({},a))},children:"\u7F16\u8F91"},"edit")]}}];return(0,_.jsxs)(n.ZP,{children:[(0,_.jsx)(o.ZP,{rowKey:"conf_id",request:J,actionRef:j,columns:H,toolBarRender:function(){return[(0,_.jsx)(g.Z,{onClick:G,children:"\u65B0\u589E"})]}}),(0,_.jsxs)($.Z,{title:S=="add"?"Add Conf":"Update Conf",width:"500px",formRef:x,visible:w,onVisibleChange:h,onFinish:N,children:[(0,_.jsx)(T.Z,{name:"conf_id",hidden:!0}),(0,_.jsx)(T.Z,{label:"Key",rules:[{required:!0}],name:"conf_key"}),(0,_.jsx)(T.Z,{label:"Value",rules:[{required:!0}],name:"conf_value"}),(0,_.jsx)(T.Z,{label:"Desc",rules:[{required:!0}],name:"conf_desc"})]})]})};I.default=Y}}]);
