(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[313],{64317:function(N,S,n){"use strict";var E=n(67294),R=n(86292),M=n(22270),F=n(66758),g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],j=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function D(){return D=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},D.apply(this,arguments)}function y(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),a.push.apply(a,s)}return a}function b(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?y(Object(a),!0).forEach(function(s){I(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function I(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function x(e,r){if(e==null)return{};var a=p(e,r),s,m;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(e);for(m=0;m<P.length;m++)s=P[m],!(r.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(a[s]=e[s]))}return a}function p(e,r){if(e==null)return{};var a={},s=Object.keys(e),m,P;for(P=0;P<s.length;P++)m=s[P],!(r.indexOf(m)>=0)&&(a[m]=e[m]);return a}var d=E.forwardRef(function(e,r){var a=e.fieldProps,s=e.children,m=e.params,P=e.proFieldProps,B=e.mode,C=e.valueEnum,U=e.request,A=e.showSearch,L=e.options,W=x(e,g),w=(0,E.useContext)(F.Z);return E.createElement(R.Z,D({mode:"edit",valueEnum:(0,M.h)(C),request:U,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:b({options:L,mode:B,showSearch:A,getPopupContainer:w.getPopupContainer},a),ref:r,proFieldProps:P},W),s)}),u=E.forwardRef(function(e,r){var a=e.fieldProps,s=e.children,m=e.params,P=e.proFieldProps,B=e.mode,C=e.valueEnum,U=e.request,A=e.options,L=x(e,j),W=b({options:A,mode:B||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},a),w=(0,E.useContext)(F.Z);return E.createElement(R.Z,D({mode:"edit",valueEnum:(0,M.h)(C),request:U,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:b({getPopupContainer:w.getPopupContainer},W),ref:r,proFieldProps:P},L),s)}),l=d,c=u,f=l;f.SearchSelect=c,f.displayName="ProFormComponent",S.Z=f},5966:function(N,S,n){"use strict";var E=n(67294),R=n(86292),M=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"];function g(){return g=Object.assign||function(p){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(p[l]=u[l])}return p},g.apply(this,arguments)}function j(p,d){if(p==null)return{};var u=D(p,d),l,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(p);for(c=0;c<f.length;c++)l=f[c],!(d.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(p,l)||(u[l]=p[l]))}return u}function D(p,d){if(p==null)return{};var u={},l=Object.keys(p),c,f;for(f=0;f<l.length;f++)c=l[f],!(d.indexOf(c)>=0)&&(u[c]=p[c]);return u}var y="text",b=function(d){var u=d.fieldProps,l=d.proFieldProps,c=j(d,M);return E.createElement(R.Z,g({mode:"edit",valueType:y,fieldProps:u,filedConfig:{valueType:y},proFieldProps:l},c))},I=function(d){var u=d.fieldProps,l=d.proFieldProps,c=j(d,F);return E.createElement(R.Z,g({mode:"edit",valueType:"password",fieldProps:u,proFieldProps:l,filedConfig:{valueType:y}},c))},x=b;x.Password=I,x.displayName="ProFormComponent",S.Z=x},65665:function(N,S,n){"use strict";n.r(S);var E=n(8870),R=n(54029),M=n(79166),F=n(34792),g=n(48086),j=n(3182),D=n(2824),y=n(94043),b=n.n(y),I=n(67294),x=n(67265),p=n(73939),d=n(37476),u=n(5966),l=n(64317),c=n(85304),f=n(30381),e=n.n(f),r=n(85893),a=function(){var m=(0,I.useState)(!1),P=(0,D.Z)(m,2),B=P[0],C=P[1],U=(0,I.useRef)(),A=(0,I.useRef)(),L=function(){var v=(0,j.Z)(b().mark(function i(t,_,h){var o,$,V,K,Z,k,T;return b().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=t.pageSize,$=t.current,V=t.keyword,K={data:[],success:!0,total:10},O.prev=2,O.next=5,(0,c.ET)({pageNum:$,pageSize:o,keyword:V});case 5:T=O.sent,K.total=T==null||(Z=T.data)===null||Z===void 0?void 0:Z.total,K.data=T==null||(k=T.data)===null||k===void 0?void 0:k.list,O.next=13;break;case 10:O.prev=10,O.t0=O.catch(2),K.success=!1;case 13:return O.abrupt("return",K);case 14:case"end":return O.stop()}},i,null,[[2,10]])}));return function(t,_,h){return v.apply(this,arguments)}}(),W=function(){var v=(0,j.Z)(b().mark(function i(t){var _;return b().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,c.gS)(t);case 3:g.default.success("\u66F4\u65B0\u6210\u529F"),C(!1),(_=A.current)===null||_===void 0||_.reload(),o.next=10;break;case 8:o.prev=8,o.t0=o.catch(0);case 10:case"end":return o.stop()}},i,null,[[0,8]])}));return function(t){return v.apply(this,arguments)}}(),w=[{title:"keyword",hideInTable:!0,dataIndex:"keyword",valueType:"text",fieldProps:{placeholder:"ID/Account/Username"}},{title:"User ID",hideInSearch:!0,dataIndex:"user_id",editable:function(i,t,_){return!1}},{title:"Account",hideInSearch:!0,dataIndex:"user_account",editable:function(i,t,_){return!1},render:function(i,t,_,h){var o;return(o=t.user_account)!==null&&o!==void 0?o:i}},{title:"Username",hideInSearch:!0,dataIndex:"user_name",render:function(i,t,_,h){var o;return(o=t.user_name)!==null&&o!==void 0?o:i}},{title:"IP",hideInSearch:!0,dataIndex:"user_ipreg",editable:function(i,t,_){return!1},render:function(i,t,_,h){var o;return(o=t.user_ipreg)!==null&&o!==void 0?o:i}},{title:"Sex",hideInSearch:!0,dataIndex:"user_sex",width:50,editable:function(i,t,_){return!1},render:function(i,t,_,h){return t.user_sex==0?"Girl":"Boy"}},{title:"Create time",hideInSearch:!0,dataIndex:"user_createtime",render:function(i,t,_,h){return e()(t.user_createtime*1e3).format("YYYY/MM/DD")}},{title:"Remark",hideInSearch:!0,dataIndex:"user_remark",copyable:!0,ellipsis:!0},{title:"Touchtip",hideInSearch:!0,dataIndex:"user_touchtip",copyable:!0,ellipsis:!0},{title:"Status",hideInSearch:!0,dataIndex:"user_status",width:60,render:function(i,t,_,h){return(0,r.jsx)(M.Z,{color:t.user_status===0?"green":"red"})}},{title:"Vip",hideInSearch:!0,dataIndex:"user_vip",width:50,valueType:"select",render:function(i,t,_,h){return(0,r.jsx)(M.Z,{color:t.user_vip===1?"green":"red"})}},{title:"Role",hideInSearch:!0,width:70,dataIndex:"user_role",valueType:"select",valueEnum:{admin:{text:"Admin",status:1},normal:{text:"Normal",status:0}},render:function(i,t,_,h){return t.user_role===1?"Admin":"Normal"}},{title:"\u64CD\u4F5C",key:"option",valueType:"option",width:150,render:function(i,t,_){return[(0,r.jsx)("a",{onClick:function(){var o;C(!0),(o=U.current)===null||o===void 0||o.setFieldsValue((0,E.Z)((0,E.Z)({},t),{},{user_password:null}))},children:"\u7F16\u8F91"},_)]}}];return(0,r.jsxs)(x.ZP,{children:[(0,r.jsx)(p.ZP,{rowKey:"user_id",request:L,actionRef:A,columns:w}),(0,r.jsxs)(d.Z,{title:"Update User",width:"400px",formRef:U,visible:B,onVisibleChange:C,onFinish:W,children:[(0,r.jsx)(u.Z,{hidden:!0,rules:[{required:!0}],name:"user_id"}),(0,r.jsx)(u.Z,{label:"user_name",rules:[{required:!0}],name:"user_name"}),(0,r.jsx)(l.Z,{label:"user_sex",rules:[{required:!0}],name:"user_sex",options:[{label:"Boy",value:1},{label:"Girl",value:0}]}),(0,r.jsx)(u.Z,{label:"user_remark",rules:[{required:!0}],name:"user_remark"}),(0,r.jsx)(u.Z,{label:"user_touchtip",rules:[{required:!0}],name:"user_touchtip"}),(0,r.jsx)(l.Z,{label:"user_status",rules:[{required:!0}],name:"user_status",options:[{label:"Disable",value:1},{label:"Normal",value:0}]}),(0,r.jsx)(l.Z,{label:"user_vip",rules:[{required:!0}],name:"user_vip",options:[{label:"Yes",value:1},{label:"No",value:0}]}),(0,r.jsx)(l.Z,{label:"user_role",rules:[{required:!0}],name:"user_role",options:[{label:"Admin",value:1},{label:"Normal",value:0}]}),(0,r.jsx)(u.Z.Password,{label:"password",placeholder:"\u4E0D\u4FEE\u6539\u7559\u7A7A",name:"user_password"})]})]})};S.default=a}}]);
